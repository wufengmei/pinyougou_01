<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pinyougou.mapper.SeckillOrderAndGoodMapper">
    <select id="findSeckillOrderAndGood" parameterType="SeckillOrderAndGood"   resultType="SeckillOrderAndGood">
        select * from `tb_seckill_order` o,`tb_seckill_goods` s,`tb_goods` g
        <where>
            o.`seckill_id` = s.`id` and s.`goods_id` = g.`id`
            <if test="username!=null and username !=''">
                AND o.seller_id = #{username}
            </if>

            <if test="sellerId!=null and sellerId !=''">
                AND o.seller_id like "%${sellerId}%"
            </if>
            <if test="userId!=null and userId !=''">
                AND o.user_id like "%${userId}%"
            </if>
            <if test="category1Id!=null and category1Id !=''">
                AND g.`category1_id` = #{category1Id}
            </if>
            <if test="category2Id!=null and category2Id !=''">
                AND g.`category2_id` = #{category2Id}
            </if>
            <if test="category3Id!=null and category3Id !=''">
                AND g.`category3_id` = #{category3Id}
            </if>
            <if test="receiverAddress!=null and receiverAddress !=''">
                AND o.`receiver_address` like "%${receiverAddress}%"
            </if>
        </where>

    </select>

</mapper>